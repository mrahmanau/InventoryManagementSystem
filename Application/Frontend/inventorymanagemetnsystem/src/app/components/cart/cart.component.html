<div class="container mt-5 cart-container">
  <h2 class="cart-title">Your Shopping Cart</h2>
  <form [formGroup]="cartForm" (ngSubmit)="checkout()">
    <div
      *ngFor="let item of cartItems; let i = index"
      class="row mb-4 cart-item"
    >
      <div class="col-md-2">
        <img
          src="https://via.placeholder.com/150"
          alt="{{ item.productName }}"
          class="img-fluid cart-item-image"
        />
      </div>
      <div class="col-md-4">
        <h5>{{ item.productName }}</h5>
        <p class="cart-item-price">Price: {{ item.price | currency }}</p>
      </div>
      <div class="col-md-3">
        <label for="quantity{{ i }}" class="quantity-label">Quantity</label>
        <input
          id="quantity{{ i }}"
          type="number"
          class="form-control quantity-input"
          [formControlName]="'quantity' + i"
          (change)="updateQuantity(i)"
          min="1"
        />
      </div>
      <div class="col-md-3 text-right">
        <p class="cart-item-total">
          Total: {{ item.price * item.quantity | currency }}
        </p>
      </div>
    </div>
    <div class="row mt-5">
      <div class="col-md-6">
        <p><strong>Subtotal:</strong> {{ getSubtotal() | currency }}</p>
        <p><strong>Sales Tax:</strong> {{ getSalesTax() | currency }}</p>
        <p><strong>Grand Total:</strong> {{ getGrandTotal() | currency }}</p>
      </div>
      <div class="col-md-6 text-right">
        <button type="submit" class="btn btn-primary btn-lg">Checkout</button>
      </div>
    </div>
  </form>
</div>
